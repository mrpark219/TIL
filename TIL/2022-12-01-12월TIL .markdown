---
layout: post
title: "2022년 12월 TIL"
date: 2022-12-01 23:35:00 +0900
categories: 202212 TIL
---

---

### 12/1(목)

오브젝트 - 부록B. 타입 계층의 구현
[p.576 ~ p.582]

-   타입 계층을 구현할 수 있는 다양한 방법:

    2. 인터페이스를 이용한 타입 계층 구현:  
       대부분의 언어는 다중 상속을 지원하지 않는다. 그리고 상속 계층을 통해 타입을 구현하면 자식 클래스가 부모 클래스와 클래스의 구현에 강하게 결합될 확률이 높다. 따라서 상속 계층 안의 클래스 하나를 변경했는데도 수많은 자식 클래스들이 영향을 받을 수 있다. 상속으로 인한 결합도 문제를 피하고 다중 상속이라는 구현 제약도 해결할 수 있는 방법은 클래스가 아닌 인터페이스를 사용하여 타입 계층을 구현하는 것이다.  
       한 타입은 좀 더 많은 행동을 가진 다른 타입에 의해 확장될 수 있다. 이때 인터페이스가 다른 인터페이스를 확장하도록 만들면 슈퍼타입과 서브타입 간의 타입 계층을 구성할 수 있다.  
       인터페이스를 통해 타입을 정의하면 클래스를 통해 해당 타입에 속하는 객체들을 구현할 수 있다. 자바와 C#에서는 인터페이스를 이용해 타입의 퍼블릭 인터페이스를 정의하고 클래스를 이용해 객체를 구현하는 것이 일반적인 패턴이다. 인터페이스와 클래스를 함께 조합하면 다중 상속의 딜레마에 빠지지 않을 수 있고 단일 상속 계층으로 인한 결합도 문제를 피할 수 있다. 아래는 타입과 타입을 구현한 클래스 사이의 관계의 특징이다.

        - 여러 클래스가 동일한 타입을 구현할 수 있다:  
          한 인터페이스를 구현하는 여러 클래스들은 서로 다른 방법으로 구현할 수 있지만 동일한 타입을 가진다.
        - 하나의 클래스가 여러 타입을 구현할 수 있다:  
          한 클래스가 여러 개의 인터페이스를 구현할 수 있다.

        타입은 동일한 퍼블릭 인터페이스를 가진 객체들의 범주이고, 클래스는 타입에 속하는 객체들을 구현하기 위한 구현 메커니즘이다.

---

### 12/2(금)

오브젝트 - 부록B. 타입 계층의 구현
[p.582 ~ p.584]

-   타입 계층을 구현할 수 있는 다양한 방법:

    3. 추상 클래스를 이용한 타입 계층 구현:  
       추상 클래스를 이용하면 클래스 상속을 이용해 구현을 공유하면서도 결합도로 인한 부작용을 피할 수 있다. 구체 클래스로 타입을 정의해서 상속받는 방법과 추상 클래스로 타입을 정의해서 상속받는 방법 사이에는 아래의 두 가지 중요한 차이점이 있다.

        - 의존하는 대상의 추상화 정도가 다르다:  
          클래스를 이용해 타입 계층을 구현한 경우 자식 클래스의 메서드가 부모 클래스의 메서드의 구체적인 내부 구현에 강하게 결합된다. 반면 추상 클래스의 경우 자식 클래스가 부모 클래스의 내부 구현이 아닌 추상 메서드의 시그니처에만 의존한다.
        - 상속을 사용하는 의도가 다르다:  
          클래스를 이용해 타입 계층을 구현하는 경우 상속을 염두로 두고 설계된 것이 아니다. 따라서 클래스에는 미래의 확장을 위한 어떤 준비도 돼 있지 않다. 반면 추상 클래스의 경우 처음부터 상속을 염두에 두고 설계된 클래스다. 추상 클래스는 자신의 인스턴스를 직접 생성할 수 없다. 추상 클래스는 추상 메서드를 제공함으로써 상속 계층을 쉽게 확장할 수 있게 하고 결합도로 인한 부작용을 방지할 수 있는 안전망을 제공한다.

    모든 구체 클래스의 부모 클래스를 항상 추상 클래스로 만들기 위해 노력해야 한다. 의존하려는 대상이 더 추상적일수록 결합도는 낮아지고 결합도가 낮아질수록 변경으로 인한 영향도는 줄어든다.

---

### 12/3(토)

오브젝트 - 부록B. 타입 계층의 구현
[p.585 ~ p.588]

-   대부분의 객체지향 언어들은 하나의 부모 클래스만 가질 수 있도록 허용하는 단일 상속만 지원한다. 이 경우 여러 타입으로 분류되는 타입이 문제가 될 수 있다. 이런 경우에는 타입 계층을 오묘한 방식으로 비틀어서 해결할 수 있다.  
    자바와 C#에서 제공하는 인터페이스를 이용해 타입을 정의하면 다중 상속 문제를 해결할 수 있다. 클래스가 구현할 수 있는 인터페이스의 수에는 제한이 없기 때문에 하나의 클래스가 하나 이상의 타입으로 분류 가능하도록 손쉽게 확장할 수 있다.  
    그러나 인터페이스만을 사용하는 방법에도 단점이 있다. 자바8 이전 버전이나 C#에서 제공하는 인터페이스에는 구현 코드를 포함시킬 수 없기 때문에 인터페이스만으로는 중복 코드를 제거하기 힘들다. 따라서 효과적인 접근 방법은 인터페이스를 이용해 타입을 정의하고 특정 상속 계층에 국한된 코드를 공유할 필요가 있을 경우에는 추상 클래스를 이용해 코드 중복을 방지하는 것이다. 이런 형태로 추상 클래스를 사용하는 방식을 **골격 구현 추상 클래스(skeletal implementation abstract class)** 라고 부른다.  
    인터페이스와 추상 클래스를 함께 사용하는 방법은 추상 클래스만을 사용하는 방법에 비해 아래 두 가지 장점을 가진다.

    -   다양한 구현 방법이 필요한 경우 새로운 추상 클래스를 추가해서 쉽게 해결할 수 있다.
    -   이미 부모 클래스가 존재하는 클래스라고 하더라도 인터페이스를 추가함으로써 새로운 타입으로 쉽게 확장할 수 있다.

    설계에 상속 계층이 얽매이지 않는 타입 계층이 요구된다면 인터페이스로 타입을 정의하는 것이 좋다. 또한, 추상 클래스로 기본 구현을 제공해서 중복 코드르 제거하는 것이 좋다. 하지만 이런 복잡성이 필요하지 않다면 타입을 정의하기 위해 인터페이스나 추상 클래스 둘 중 하나만 사용하는 것이 좋다. 타입의 구현 방법이 단 한가지이거나 단일 상속 계층만으로도 타입 계층을 구현하는 데 무리가 없다면 클래스나 추상 클래스를 이용해 타입을 정의하는 것이 좋다. 그 외의 상황에는 인터페이스를 이용하는 것을 고려하는 것이 좋다.
